{"version":3,"sources":["StoryAudioEffect.js"],"names":["StoryAudioMgr","require","cc","Class","extends","Component","editor","menu","properties","audio","default","displayName","type","AudioClip","tooltip","delayTime","range","notify","i","loop","onLoad","_play","playEffect","start","scheduleOnce","bind"],"mappings":";;;;;;AAAA,IAAIA,gBAAcC,QAAQ,eAAR,CAAlB,CAA2CC,GAAGC,KAAH,CAAS,EAACC,SAAQF,GAAGG,SAAZ,EAAsBC,QAAO,EAACC,MAAK,gCAAN,EAA7B,EAAqEC,YAAW,EAACC,OAAM,EAACC,SAAQ,IAAT,EAAcC,aAAY,IAA1B,EAA+BC,MAAKV,GAAGW,SAAvC,EAAiDC,SAAQ,gBAAzD,EAAP,EAAkFC,WAAU,EAACL,SAAQ,CAAT,EAAWC,aAAY,SAAvB,EAAiCK,OAAM,CAAC,CAAD,EAAG,MAAH,CAAvC,EAAkDC,MAAlD,kBAAyDC,CAAzD,EAA2D,CAAE;AAA7D,KAA5F,EAA2JC,MAAK,EAACT,SAAQ,CAAC,CAAV,EAAYC,aAAY,MAAxB,EAAhK,EAAhF,EAAiRS,MAAjR,oBAAyR,CAAE,CAA3R;AAA4RC,OAA5R,mBAAmS;AAAC,SAAKZ,KAAL,IAAYT,cAAcsB,UAAd,CAAyB,KAAKb,KAA9B,EAAoC,KAAKU,IAAzC,CAAZ;AAA2D,GAA/V;AAAgWI,OAAhW,mBAAuW;AAAC,SAAKC,YAAL,CAAkB,YAAU;AAAC,WAAKT,SAAL,IAAgB,CAAhB,GAAkB,KAAKM,KAAL,EAAlB,GAA+B,KAAKG,YAAL,CAAkB,YAAU;AAAC,aAAKH,KAAL;AAAa,OAAxB,CAAyBI,IAAzB,CAA8B,IAA9B,CAAlB,EAAsD,KAAKV,SAA3D,CAA/B;AAAqG,KAAhH,CAAiHU,IAAjH,CAAsH,IAAtH,CAAlB,EAA8I,EAA9I;AAAkJ;AAA1f,CAAT","file":"StoryAudioEffect.js","sourceRoot":"../../../../../../../../.CocosCreator/packages/story-master/code/scene/story","sourcesContent":["let StoryAudioMgr=require(\"StoryAudioMgr\");cc.Class({extends:cc.Component,editor:{menu:\"A-StoryMaster/StoryAudioEffect\"},properties:{audio:{default:null,displayName:\"音效\",type:cc.AudioClip,tooltip:\"切换情节会关闭之前所有的音效\"},delayTime:{default:0,displayName:\"延迟播放(s)\",range:[0,999999],notify(i){}},loop:{default:!1,displayName:\"是否循环\"}},onLoad(){},_play(){this.audio&&StoryAudioMgr.playEffect(this.audio,this.loop)},start(){this.scheduleOnce(function(){this.delayTime<=0?this._play():this.scheduleOnce(function(){this._play()}.bind(this),this.delayTime)}.bind(this),.1)}});"]}