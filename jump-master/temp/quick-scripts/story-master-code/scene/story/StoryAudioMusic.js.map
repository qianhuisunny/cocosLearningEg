{"version":3,"sources":["StoryAudioMusic.js"],"names":["StoryAudioMgr","require","cc","Class","extends","Component","editor","menu","properties","audio","default","displayName","type","AudioClip","tooltip","delayTime","range","notify","i","loop","isStopOnDestroy","onLoad","_play","playMusic","start","scheduleOnce","bind","onDestroy","stopMusic"],"mappings":";;;;;;AAAA,IAAIA,gBAAcC,QAAQ,eAAR,CAAlB,CAA2CC,GAAGC,KAAH,CAAS,EAACC,SAAQF,GAAGG,SAAZ,EAAsBC,QAAO,EAACC,MAAK,+BAAN,EAA7B,EAAoEC,YAAW,EAACC,OAAM,EAACC,SAAQ,IAAT,EAAcC,aAAY,IAA1B,EAA+BC,MAAKV,GAAGW,SAAvC,EAAiDC,SAAQ,cAAzD,EAAP,EAAgFC,WAAU,EAACL,SAAQ,CAAT,EAAWC,aAAY,SAAvB,EAAiCK,OAAM,CAAC,CAAD,EAAG,MAAH,CAAvC,EAAkDC,MAAlD,kBAAyDC,CAAzD,EAA2D,CAAE;AAA7D,KAA1F,EAAyJC,MAAK,EAACT,SAAQ,CAAC,CAAV,EAAYC,aAAY,MAAxB,EAA+BM,MAA/B,oBAAuC,CAAE;AAAzC,KAA9J,EAAyMG,iBAAgB,EAACV,SAAQ,CAAC,CAAV,EAAYC,aAAY,OAAxB,EAAzN,EAA/E,EAA0UU,MAA1U,oBAAkV,CAAE,CAApV;AAAqVC,OAArV,mBAA4V;AAAC,SAAKb,KAAL,IAAYT,cAAcuB,SAAd,CAAwB,KAAKd,KAA7B,EAAmC,KAAKU,IAAxC,CAAZ;AAA0D,GAAvZ;AAAwZK,OAAxZ,mBAA+Z;AAAC,SAAKC,YAAL,CAAkB,YAAU;AAAC,WAAKV,SAAL,IAAgB,CAAhB,GAAkB,KAAKO,KAAL,EAAlB,GAA+B,KAAKG,YAAL,CAAkB,YAAU;AAAC,aAAKH,KAAL;AAAa,OAAxB,CAAyBI,IAAzB,CAA8B,IAA9B,CAAlB,EAAsD,KAAKX,SAA3D,CAA/B;AAAqG,KAAhH,CAAiHW,IAAjH,CAAsH,IAAtH,CAAlB,EAA8I,EAA9I;AAAkJ,GAAljB;AAAmjBC,WAAnjB,uBAA8jB;AAAC,SAAKP,eAAL,IAAsBpB,cAAc4B,SAAd,EAAtB;AAAgD;AAA/mB,CAAT","file":"StoryAudioMusic.js","sourceRoot":"../../../../../../../../.CocosCreator/packages/story-master/code/scene/story","sourcesContent":["let StoryAudioMgr=require(\"StoryAudioMgr\");cc.Class({extends:cc.Component,editor:{menu:\"A-StoryMaster/StoryAudioMusic\"},properties:{audio:{default:null,displayName:\"音乐\",type:cc.AudioClip,tooltip:\"同一时间只会播放一个音乐\"},delayTime:{default:0,displayName:\"延迟播放(s)\",range:[0,999999],notify(i){}},loop:{default:!1,displayName:\"是否循环\",notify(){}},isStopOnDestroy:{default:!0,displayName:\"结束时暂停\"}},onLoad(){},_play(){this.audio&&StoryAudioMgr.playMusic(this.audio,this.loop)},start(){this.scheduleOnce(function(){this.delayTime<=0?this._play():this.scheduleOnce(function(){this._play()}.bind(this),this.delayTime)}.bind(this),.1)},onDestroy(){this.isStopOnDestroy&&StoryAudioMgr.stopMusic()}});"]}