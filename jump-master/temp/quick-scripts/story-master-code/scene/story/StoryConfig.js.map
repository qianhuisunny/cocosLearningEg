{"version":3,"sources":["StoryConfig.js"],"names":["StoryConfig","file","init","data","name","piece","plot","_init","_completeCallBack","t","_index","_totalIndex","i","_loadJson","e","cc","loader","loadRes","o","json","_onProgress","_onComplete","_onError","bind","module","exports"],"mappings":";;;;;;AAAA,IAAIA,cAAY,EAACC,MAAK,EAACC,MAAK,EAACC,MAAK,EAAN,EAASC,MAAK,MAAd,EAAN,EAA4BC,OAAM,EAACF,MAAK,EAAN,EAASC,MAAK,OAAd,EAAlC,EAAyDE,MAAK,EAACH,MAAK,EAAN,EAASC,MAAK,MAAd,EAA9D,EAAN,EAA2FG,OAAM,CAAC,CAAlG,EAAoGC,mBAAkB,IAAtH,EAA2HN,IAA3H,gBAAgIO,CAAhI,EAAkI;AAAC,QAAG,CAAC,CAAD,KAAK,KAAKF,KAAb,EAAmB;AAAC,WAAKA,KAAL,GAAW,CAAC,CAAZ,EAAc,KAAKC,iBAAL,GAAuBC,CAArC,EAAuC,KAAKC,MAAL,GAAY,CAAnD,EAAqD,KAAKC,WAAL,GAAiB,CAAtE,CAAwE,KAAI,IAAIF,EAAR,IAAa,KAAKR,IAAlB;AAAuB,aAAKU,WAAL;AAAvB,OAA0C,KAAI,IAAIF,GAAR,IAAa,KAAKR,IAAlB,EAAuB;AAAC,YAAIW,IAAE,KAAKX,IAAL,CAAUQ,GAAV,CAAN,CAAmB,KAAKI,SAAL,CAAeD,EAAER,IAAjB,EAAsBQ,CAAtB;AAAyB;AAAC,KAA3M,MAAgNH,KAAGA,GAAH;AAAO,GAA1V;AAA2VI,WAA3V,qBAAqWJ,CAArW,EAAuWG,CAAvW,EAAyW;AAAC,QAAIE,IAAE,KAAGL,CAAT,CAAWM,GAAGC,MAAH,CAAUC,OAAV,CAAkBH,CAAlB,EAAoB,UAASL,CAAT,EAAWG,CAAX,EAAaE,CAAb,EAAe,CAAE,CAArC,EAAsC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAKR,MAAL,IAAcI,MAAII,KAAGN,EAAET,IAAF,GAAOe,EAAEC,IAAF,IAAQD,CAAf,EAAiB,KAAKE,WAAL,CAAiBX,CAAjB,CAAjB,EAAqC,KAAKC,MAAL,IAAa,KAAKC,WAAlB,IAA+B,KAAKU,WAAL,EAAvE,IAA2F,KAAKC,QAAL,CAAcb,CAAd,CAA/F,CAAd;AAA+H,KAA7I,CAA8Ic,IAA9I,CAAmJ,IAAnJ,CAAtC;AAAgM,GAArjB;AAAsjBH,aAAtjB,uBAAkkBX,CAAlkB,EAAokB,CAAE,CAAtkB;AAAukBY,aAAvkB,yBAAolB;AAAC,SAAKb,iBAAL,IAAwB,KAAKA,iBAAL,EAAxB;AAAiD,GAAtoB;AAAuoBc,UAAvoB,oBAAgpBb,CAAhpB,EAAkpB,CAAE;AAAppB,CAAhB,CAAsqBM,GAAGf,WAAH,GAAewB,OAAOC,OAAP,GAAezB,WAA9B","file":"StoryConfig.js","sourceRoot":"../../../../../../../../.CocosCreator/packages/story-master/code/scene/story","sourcesContent":["let StoryConfig={file:{init:{data:[],name:\"init\"},piece:{data:[],name:\"piece\"},plot:{data:[],name:\"plot\"}},_init:!1,_completeCallBack:null,init(t){if(!1===this._init){this._init=!0,this._completeCallBack=t,this._index=0,this._totalIndex=0;for(let t in this.file)this._totalIndex++;for(let t in this.file){let i=this.file[t];this._loadJson(i.name,i)}}else t&&t()},_loadJson(t,i){let e=\"\"+t;cc.loader.loadRes(e,function(t,i,e){},function(e,o){this._index++,e||(o?(i.data=o.json||o,this._onProgress(t),this._index>=this._totalIndex&&this._onComplete()):this._onError(t))}.bind(this))},_onProgress(t){},_onComplete(){this._completeCallBack&&this._completeCallBack()},_onError(t){}};cc.StoryConfig=module.exports=StoryConfig;"]}