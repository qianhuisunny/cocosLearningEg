{"version":3,"sources":["../../../../../../../.CocosCreator/packages/story-master/.CocosCreator/packages/story-master/code/core/ObserverMgr.js"],"names":["ObserverMgr","obsArray","addEventListener","r","e","t","s","length","o","func","ob","push","removeEventListener","i","n","l","splice","removeEventListenerWithObject","cleanAllEventListener","dispatchMsg","apply","cc","module","exports"],"mappings":";;;;;;AAAA,IAAIA,cAAY,EAACC,UAAS,EAAV,EAAaC,kBAAiB,0BAASC,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAK,CAAL,KAAS,KAAKJ,QAAL,CAAcE,CAAd,CAAT,KAA4B,KAAKF,QAAL,CAAcE,CAAd,IAAiB,EAA7C,EAAiD,KAAI,IAAIG,IAAE,CAAV,EAAYA,IAAE,KAAKL,QAAL,CAAcE,CAAd,EAAiBI,MAA/B,EAAsCD,GAAtC,EAA0C;AAAC,UAAIE,IAAE,KAAKP,QAAL,CAAcE,CAAd,EAAiBG,CAAjB,CAAN,CAA0B,IAAGE,EAAEC,IAAF,KAASL,CAAT,IAAYI,EAAEE,EAAF,KAAOL,CAAtB,EAAwB;AAAO,UAAKJ,QAAL,CAAcE,CAAd,EAAiBQ,IAAjB,CAAsB,EAACF,MAAKL,CAAN,EAAQM,IAAGL,CAAX,EAAtB;AAAqC,GAAxO,EAAyOO,qBAAoB,6BAAST,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAIC,IAAE,CAAC,CAAP;AAAA,QAASE,IAAE,KAAKP,QAAL,CAAcE,CAAd,CAAX,CAA4B,IAAGK,CAAH,EAAK,KAAI,IAAIL,KAAE,CAAV,EAAYA,KAAEK,EAAED,MAAhB,GAAwB;AAAC,UAAIM,IAAEL,EAAEL,EAAF,CAAN;AAAA,UAAWW,IAAED,EAAEJ,IAAf;AAAA,UAAoBM,IAAEF,EAAEH,EAAxB,CAA2BN,MAAIU,CAAJ,IAAOT,MAAIU,CAAX,IAAcP,EAAEQ,MAAF,CAASb,EAAT,EAAW,CAAX,GAAcG,IAAE,CAAC,CAA/B,IAAkCH,IAAlC;AAAsC,YAAOG,CAAP;AAAS,GAAjZ,EAAkZW,+BAA8B,uCAASd,CAAT,EAAW;AAAC,SAAI,IAAIC,CAAR,IAAa,KAAKH,QAAlB,EAA2B;AAAC,UAAII,IAAE,KAAKJ,QAAL,CAAcG,CAAd,CAAN,CAAuB,KAAI,IAAIA,KAAE,CAAV,EAAYA,KAAEC,EAAEE,MAAhB,GAAwB;AAACF,UAAED,EAAF,EAAKM,EAAL,KAAUP,CAAV,GAAYE,EAAEW,MAAF,CAASZ,EAAT,EAAW,CAAX,CAAZ,GAA0BA,IAA1B;AAA8B;AAAC;AAAC,GAAxiB,EAAyiBc,qBAAziB,mCAAgkB;AAAC,SAAKjB,QAAL,GAAc,EAAd;AAAiB,GAAllB;AAAmlBkB,eAAY,qBAAShB,CAAT,EAAWC,CAAX,EAAa;AAAC,QAAIC,IAAE,KAAKJ,QAAL,CAAcE,CAAd,CAAN,CAAuB,IAAG,KAAK,CAAL,KAASE,CAAZ,EAAc,KAAI,IAAIC,IAAE,CAAV,EAAYA,IAAED,EAAEE,MAAhB,EAAuBD,GAAvB,EAA2B;AAAC,UAAIE,IAAEH,EAAEC,CAAF,CAAN;AAAA,UAAWO,IAAEL,EAAEC,IAAf;AAAA,UAAoBK,IAAEN,EAAEE,EAAxB,CAA2BG,KAAGC,CAAH,IAAMD,EAAEO,KAAF,CAAQN,CAAR,EAAU,CAACX,CAAD,EAAGC,CAAH,CAAV,CAAN;AAAuB;AAAC,GAAjuB,EAAhB,CAAmvBiB,GAAGrB,WAAH,GAAesB,OAAOC,OAAP,GAAevB,WAA9B","file":"ObserverMgr.js","sourceRoot":"../../../../../../../.CocosCreator/packages/story-master/code/core","sourcesContent":["let ObserverMgr={obsArray:{},addEventListener:function(r,e,t){void 0===this.obsArray[r]&&(this.obsArray[r]=[]);for(let s=0;s<this.obsArray[r].length;s++){let o=this.obsArray[r][s];if(o.func===e&&o.ob===t)return}this.obsArray[r].push({func:e,ob:t})},removeEventListener:function(r,e,t){let s=!1,o=this.obsArray[r];if(o)for(let r=0;r<o.length;){let i=o[r],n=i.func,l=i.ob;e===n&&t===l?(o.splice(r,1),s=!0):r++}return s},removeEventListenerWithObject:function(r){for(let e in this.obsArray){let t=this.obsArray[e];for(let e=0;e<t.length;){t[e].ob===r?t.splice(e,1):e++}}},cleanAllEventListener(){this.obsArray={}},dispatchMsg:function(r,e){let t=this.obsArray[r];if(void 0!==t)for(let s=0;s<t.length;s++){let o=t[s],i=o.func,n=o.ob;i&&n&&i.apply(n,[r,e])}}};cc.ObserverMgr=module.exports=ObserverMgr;"]}